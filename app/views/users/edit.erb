<div class="breadcrumbs-holder">
  <ul id="breadcrumbs">
    <li><a class="home" href="<%= root_path %>"><span>Home</span></a></li>
    <li><span>My Account</span></li>
  </ul>
</div>
<div class="profile-box">
  <h2>My account</h2>
  <div class="tabs-holder">
    <ul class="tabset">
      <li><a href="#tab-1" class="tab"><span class="tab-details">Account Details</span></a></li>
      <li><a href="#tab-2" class="tab"><span class="tab-profile">Public Profile</span></a></li>
      <li><a href="#tab-3" class="tab"><span class="tab-judge">Judge</span></a></li>
      <li><a href="#tab-4" class="tab"><span class="tab-contestant">Contestant</span></a></li>
    </ul>
    <div class="tab-content" id="tab-1">
      <div class="tab-holder">
        <div class="tab-frame">
          <div class="messages"></div>
          <%= semantic_form_for current_user, :url => account_path(:format => :json), :remote => true do |f| %>
            <%= f.inputs :class => 'profile-form' do %>
              <%= f.input :current_tab, :as => :hidden, :input_html => { :value => 'details' } %>
              <div class="title-row">
                <h3>General account details</h3>
                <div class="btn-holder"><%= f.submit 'Save', :class => 'button-save' %></div>
              </div>
              <div class="text-box">
                <p>The information on this page is not shown on the site.</p>
              </div>
              <%= f.input :first_name %>
              <%= f.input :last_name %>
              <%= f.input :email %>
              <%= f.input :zip %>
              <li class="select input optional" id="user_country_input">
                <label class="label" for="user_country"><%= User.human_attribute_name(:country) %></label>
                <%= country_select('user','country', ['United States','Canada','Mexico','United Kingdom']) %>
              </li>
              <%= f.input :birthdate, :start_year => 1901, :order => [:month, :day, :year], :include_blank => false, :input_html => { :class => 'select-2' } %>
              <%= f.input :interview_status, :as => :boolean %>
              <div class="submit-row">
                <%= f.actions :class => 'submit-holder' do %>
                  <%= f.submit 'Save', :class => 'button-save' %>
                <% end %>
              </div>
            <% end %>
          <% end %>
        </div>
      </div>
    </div>
    <div class="tab-content" id="tab-2">
      <div class="tab-holder">
        <div class="tab-frame">
          <div class="messages"></div>
          <%= semantic_form_for current_user, :url => account_path(:anchor => 'tab-2'), :html => { 'data-non-ajax' => true } do |f| %>
            <%= f.inputs :class => 'profile-form' do %>
              <%= f.input :current_tab, :as => :hidden, :input_html => { :value => 'profile' } %>
              <div class="title-row">
                <h3>Your public profile</h3>
                <div class="btn-holder"><%= f.submit 'Save', :class => 'button-save' %></div>
              </div>
              <div class="text-box">
                <p>This is your public profile shown throughout the site.</p>
              </div>
              <%= f.input :profile_name %>
              <%= f.input :genre %>
              <%= f.input :hometown %>
              <%= f.input :bio, :as => :text, :input_html => { :rows => 6 } %>
              <div class="social-box">
                <h4>Social Accounts</h4>
                <%= f.input :facebook %>
                <%= f.input :twitter %>
                <%= f.input :youtube %>
              </div>              
              <div class="picture-box">
                <h4>Profile Pictures</h4>
                <div class="holder">
                  <div class="picture-holder">
                    <% if current_user.profile_photo_square? %>
                      <div class="profile-photo-box">
                        <%= image_tag current_user.profile_photo_square.cropped, :width => '240', :height => '240', :class => 'profile-photo-square' %>
                        <a href="#edit-thumbnail" class="lightbox crop">Click to crop photo</a>
                      </div>
                      <%= f.hidden_field :remove_profile_photo_square %>
                      <a href="#" class="btn-delete">Delete current image</a>
                    <% end %>
                  </div>
                  <div class="file-box">
                    <p>Click ‘browse to select a new profile picture.</p>
                    <div class="file-row">
                      <%= f.input :profile_photo_square, :as => :file %>
                    </div>
                    <div class="button-row">
                      <span class="formats">jpeg, png or gif, max 4mb</span>
                    </div>
                  </div>
                </div>
                <hr />
                <div class="holder">
                  <div class="picture-holder">
                    <% if current_user.profile_photo_landscape? %>
                      <div class="profile-photo-box">
                        <%= image_tag current_user.profile_photo_landscape.small, :width => '240', :height => '200' %>
                      </div>
                      <%= f.hidden_field :remove_profile_photo_landscape %>
                      <a href="#" class="btn-delete">Delete current image</a>
                    <% end %>
                  </div>
                  <div class="file-box">
                    <p>Click ‘browse to select a new profile picture.</p>
                    <div class="file-row">
                      <%= f.input :profile_photo_landscape, :as => :file %>
                    </div>
                    <div class="button-row">
                      <span class="formats">jpeg, png or gif, max 4mb</span>
                    </div>
                  </div>
                </div>
              </div>
              <div class="submit-row">
                <%= f.actions :class => 'submit-holder' do %>
                  <%= f.submit 'Save', :class => 'button-save' %>
                <% end %>
              </div>
            <% end %>
          <% end %>
        </div>
      </div>
    </div>
    <div class="tab-content" id="tab-3">
      <div class="tab-holder">
        <div class="tab-frame">
          <div class="messages"></div>
          <%= semantic_form_for current_user, :url => account_path(:format => :json), :remote => true do |f| %>
            <%= f.input :current_tab, :as => :hidden, :input_html => { :value => 'judge' } %>
            <div class="title-row title-row-2">
              <h3>Judge</h3>
              <div class="btn-holder"><%= f.submit 'Save', :class => 'button-save' %></div>
            </div>
            <%= f.semantic_fields_for :judgings, current_user.judging do |judging| %>
              <%= f.inputs :class => 'judge-form' do %>
                <%= judging.input :active, :as => :radio, :collection => [['Yes',true],['No',false]], :wrapper_html => { :class => 'radio-row' } %>
                <div class="checkbox-row"><%= judging.input :genres_array, :as => :check_boxes, :collection => Contest::GENRES, :wrapper_html => { :class => 'checkbox-holder' } %></div>
                <div class="submit-row">
                  <%= f.actions :class => 'submit-holder' do %>
                    <%= f.submit 'Save', :class => 'button-save' %>
                  <% end %>
                </div>
              <% end %>
            <% end %>
          </div>
        <% end %>
      </div>
    </div>
    <div class="tab-content" id="tab-4">
      <div class="tab-holder">
        <div class="tab-frame">
          <div class="messages"></div>
          <%= semantic_form_for current_user, :url => account_path(:anchor => 'tab-4'), :html => { 'data-non-ajax' => true } do |f| %>
            <%= f.input :current_tab, :as => :hidden, :input_html => { :value => 'contestants' } %>
            <div class="title-row title-row-2">
              <h3>Contestant</h3>
              <div class="btn-holder"><%= f.submit 'Save', :class => 'button-save' %></div>
            </div>
            <%= f.semantic_fields_for :entries, current_user.entry do |entry| %>
              <%= f.inputs :class => 'contestant-form' do %>
                <%= entry.input :active, :as => :radio, :collection => [['Yes',true],['No',false]], :wrapper_html => { :class => 'radio-row' } %>
                <div class="text-row">
                  <p>Fill out the fields to complete your artist profile.</p>
                </div>
                <div class="form-box">
                  <%= entry.input :artist_type, :as => :select, :collection => Entry::ARTIST_TYPES, :include_blank => false, :input_html => { :class => 'select-2' } %>
                  <div class="genres-row checkbox-row"><%= entry.input :genres_array, :as => :check_boxes, :collection => Contest::GENRES, :wrapper_html => { :class => 'checkbox-holder' } %></div>
                  <div id="genres-confirm-text">
                    It's ok to compete in multiple genres. We encourage it because it allows you more exposure and financial opportunities. However, know that each genre is a separate contest. Each week you'll have to submit a performance video for each genre.
                    <a href="javascript:;" onclick="$.fancybox.close();">Close</a>
                  </div>
                </div>
                <div class="audition-box">
                  <h4>Audition Performance</h4>
                  <%= entry.input :audition_type, :as => :select, :collection => Entry::ENTRY_TYPES, :include_blank => false, :input_html => { :class => 'select-2' } %>
                  <%= entry.input :song_title %>
                  <%= entry.input :written_by %>
                  <div class="video-box">
                    <div class="picture-holder">
                      <div class="video-holder">
                        <img src="<%= image_path('img-12.jpg') %>" alt="image description" width="242" height="148" />
                      </div>
                      <a href="#" class="btn-delete">Delete current video</a>
                    </div>
                    <div class="file-box">
                      <p>Click ‘browse to select a new video, then ‘upload’ to add the video to your profile.</p>
                      <div class="file-row">
                        <input type="file" />
                      </div>
                      <div class="button-row">
                        <input type="button" value="Upload" class="btn-upload" />
                        <span class="formats">.mpeg .flv or .mov, max 20mb</span>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="gift-box">
                  <h4>Career Support</h4>
                  <!--
                  <div class="text-block">
                    <p>What equipment (or amount of cash) would advance your musical career and why?</p>
                  </div>

                  <% # entry.input :gift_name %>
                  <% # entry.input :gift_description, :as => :text %>
                  <% # entry.input :gift_value %>
                  -->

                  <%= entry.input :kickstarter %>
                  <%= entry.input :pledgemusic %>
                </div>
                <div class="submit-row">
                  <%= f.actions :class => 'submit-holder' do %>
                    <%= f.submit 'Save', :class => 'button-save' %>
                  <% end %>
                </div>
              <% end %>
            <% end %>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>

<% if current_user.profile_photo_square? %>
  <div class="popup-holder">
    <div class="lightbox popup" id="edit-thumbnail"><%= render 'users/edit_thumbnail' %></div>
  </div>
<% end %>
